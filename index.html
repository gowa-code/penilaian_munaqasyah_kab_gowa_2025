<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title> PENILAIAN MUNAQASYAH TPQ GOWA </title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
	 <script src="./MUNAQASYAH.js">
			function openIt() {
				const url = 'https://script.google.com/macros/s/AKfycby0EndjW4YiIjMgv09PZJQ89r2hqJa9J6IuRHi6oSdg3-_Xs2bHMcgOLD-fv5_8zi8z/exec';
				window.open(url);
			}
	 </script>
   </head>
<body>
  <div class="container">
    <div class="title"style="text-align: center;">PENILAIAN MUNAQASYAH TPQ TAHAP 1 TAHUN 2025</div>
    <div class="content">
     <form name="#">
        <div id="form_alerts"></div>
        <div class="input-box";">
                    <div class="input-box">
             <label for="Jenis_Penilaian" class="form-label">Jenis Penilaian</label>
              <select type="text" id="countySel" name="Jenis_Penilaian" class="form-control" placeholder="Masukan jenis penilaian" required>
			<option value="" selected="selected">--Pilih jenis penilaian--</option>
		</select>
         <div class="input-box">
             <label for="Nama_TPQ" class="form-label">Nama TPQ</label>
              <select type="text" id="stateSel" name="Nama_TPQ" class="form-control" placeholder="Masukan nama TPQ" required>
			<option value="" selected="selected">--Pilih nama TPQ--</option>
		</select>
           </div>
             <label for="Nama_Santri" class="form-label">Nomor dan Nama Santri</label>
              <select type="text" id="districtSel" name="Nama_Santri" class="form-control" placeholder="Masukan nama santri" required>
			<option value="" selected="selected">--Pilih nama santri--</option>
		</select>

          </div>
				 <div class="input-box">
    <label for="Nilai" class="form-label">Nilai</label>
    <input type="number" id="Nilai" name="Nilai" min="70" max="99" class="form-control" placeholder="Masukkan nilai dari 70 - 99" required>
</div>

<script>
    const inputBox = document.getElementById('Nilai');

    inputBox.addEventListener('input', function () {
        // Batasi nilai menjadi maksimal 2 digit
        if (this.value.length > 2) {
            this.value = this.value.slice(0, 2); // Hanya ambil 2 karakter pertama
        }

        // Validasi jika nilai berada di luar rentang
        const value = parseInt(this.value, 10);
        if (value < 70 || value > 99) {
            this.setCustomValidity('Nilai harus antara 70 dan 99.');
        } else {
            this.setCustomValidity('');
        }
    });
</script>
        <div class="button">
          <input type="submit" value="Kirim Nilai">
        </div>
		<div class="button">
          <input type="button" value="Cek Nilai" onclick="window.open('https://script.google.com/macros/s/AKfycby0EndjW4YiIjMgv09PZJQ89r2hqJa9J6IuRHi6oSdg3-_Xs2bHMcgOLD-fv5_8zi8z/exec')" />
		  </button>
		</div>
	  </form>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycby0EndjW4YiIjMgv09PZJQ89r2hqJa9J6IuRHi6oSdg3-_Xs2bHMcgOLD-fv5_8zi8z/exec'
        const form = document.forms['#']
        
        form.addEventListener('submit', e => {
            e.preventDefault()
            fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => alert("Data Berhasil Terkirim"))
            .catch(error => alert("Data Gagal Dikirim"))
        })
    </script>

</body>
</html>
